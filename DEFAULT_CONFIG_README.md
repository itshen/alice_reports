# 默认配置功能说明

## 功能概述

系统现在支持默认配置功能，即使删除数据库后重启，也能自动恢复预设的爬虫配置和报告配置。

## 默认配置内容

### 爬虫配置 (7个)
1. **科技** - 新华网评论频道
2. **虎嗅** - 虎嗅网移动端
3. **36 氪 - AI** - 36氪AI频道
4. **36 氪 - 职场** - 36氪职场频道  
5. **36 氪 - 其他** - 36氪其他频道
6. **新华网 - 数字经济** - 新华网数字经济频道
7. **新华网 - 科技快讯** - 新华网科技快讯频道

### 报告配置 (2个)
1. **科技新闻日报** - 汇总每日科技新闻
2. **AI 深度研究周报** - AI行业深度分析（默认未激活）

### 全局设置
- LLM服务商：通义千问
- Base URL：https://dashscope.aliyuncs.com/compatible-mode/v1
- 模型名称：qwen-plus

## 使用方法

### 1. 自动恢复（应用启动时）
- 当应用启动时，如果检测到没有配置数据，会自动创建默认配置
- 删库后重启应用，所有默认配置会自动恢复

### 2. 手动恢复（通过管理界面）
1. 登录系统后，进入 **全局设置** 页面
2. 在 **默认配置管理** 部分，可以选择：
   - **恢复爬虫配置** - 仅恢复爬虫的默认配置
   - **恢复报告配置** - 仅恢复报告的默认配置  
   - **恢复全部配置** - 恢复所有默认配置
3. 点击对应按钮，确认操作即可

### 3. API接口
```bash
POST /api/restore-default-configs
Content-Type: application/json

{
  "config_type": "all"  // 可选值: "crawler", "report", "all"
}
```

## 注意事项

⚠️ **重要提醒**：
- 恢复默认配置会**删除现有的配置数据**
- 此操作**不可撤销**
- 建议在操作前备份重要数据
- 恢复后需要重新配置API密钥等个人设置

## 技术实现

- 默认配置存储在 `services/default_config_service.py` 中
- 应用启动时通过 `create_tables()` 函数自动初始化
- 支持按类型（爬虫/报告/全部）选择性恢复
- 所有操作都有详细的日志记录

## 日志查看

恢复过程中的详细信息会记录在应用日志中，可以通过以下方式查看：
```bash
# 查看应用启动日志
python3.11 app.py

# 或查看日志文件（如果配置了文件日志）
tail -f app.log
```
